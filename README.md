# Сервер с очередью приоритетов

### Запуск
* bash run.sh

### Зависимости
Установка одной командой: bash install.sh
* Boost
* Для сервера используется [crow](https://github.com/ipkn/crow) (уже в проекте, ставить не надо)
* Для json'а используется [nlohmann/json](https://github.com/nlohmann/json) (уже в проекте, ставить не надо)

### Запросы
```
Все возвращают 400 при некорректном запросе и 500 при неизвестной ошибке

1) /add (Добавление заявки)
тип: POST
принимает JSON вида {"uid": uint32, "priority": uint32, "payload": JSON}
ответ: id заявки (строка с числом uint32)

2) /delete (Удаление заявки)
тип: DELETE
принимает строку с числом uint32

3) /get (Получение заявки)
тип: GET
принимает id заявки как uint32, возвращает JSON заявки

4) /getMax (Получение самой приоритетной заявки)
тип: GET
возвращает JSON заявки

5) /getUserNodes (Получение всех заявок юзера)
тип: GET
принимает uid (uint32), возвращает строку вида "uint32; uint32; uint32" с id всех заявок

6) /changeUserNodes (Изменение приоритета всех заявок юзера)
Тип: POST
принимает JSON вида {"uid": uint32, "priority": uint32}
возвращает строку вида "uint32; uint32; uint32" с id всех затронутых заявок
```
